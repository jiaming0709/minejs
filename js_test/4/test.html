<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
<button>btn</button>
<button>btn</button>
<button>btn</button>
<button>btn</button>
<button>btn</button>

<script>
    var btn=document.getElementsByTagName("button");

//    for(var i=0;i<btn.length;i++){
    //        btn[i].onclick=(function(i){
    //            return function(){
    //                alert(i);
    //            }
    //        })(i);
    //    }


    for(var i=0;i<btn.length;i++){
        (function(i){
            btn[i].onclick=function(){
                alert(i);
            }
        })(i)
    }
</script>
</body>
</html>