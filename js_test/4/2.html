<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <link rel="stylesheet" href="css/banner.css"/>
</head>
<body>
<div id="outer">
    <div id="inner">
        <div>1</div>
        <div>2</div>
        <div>3</div>
        <div>4</div>
        <div>5</div>
    </div>
    <ul id="icon">
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
    </ul>
</div>
<script src="js/animate.js"></script>
<script>
    function autoMove() {
        step++;
        if (step > 5) {
            step = 0;
            inner.style.left=0;

        }
        animate(inner, {left: step * -500}, 600);
    }

    var step = 0;
    var first=document.getElementById("inner").firstElementChild;
    inner.appendChild(first.cloneNode(true));
    inner.style.width=inner.offsetWidth+first.offsetWidth+"px";
    window.timer=setInterval(autoMove, 2000);

    var icon=document.getElementById("icon").getElementsByTagName("li");
    for(var i=0;i<icon.length;i++){
        icon[i].onclick=(function(i){
            return function(){

                clearInterval(window.timer);
                window.timer=null;
                step=i;
                animate(inner, {left: step * -500}, 600);
                window.timer=setTimeout(function(){
                    window.timer=setInterval(autoMove, 2000);
                },3000)

            }
        })(i)
    }

</script>
</body>
</html>