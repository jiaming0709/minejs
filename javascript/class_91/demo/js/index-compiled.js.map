{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["var ary = [\"img/banner1.jpg\", \"img/banner2.jpg\", \"img/banner3.jpg\", \"img/banner4.jpg\", \"img/banner5.jpg\"];\r\nvar count = ary.length;\r\n\r\nvar banner = document.getElementById(\"banner\");\r\nvar bannerInner = banner.firstElementChild;\r\nvar bannerTip = banner.lastElementChild;\r\n\r\nvar divList = bannerInner.getElementsByTagName(\"div\");\r\nvar imgList = bannerInner.getElementsByTagName(\"img\");\r\nvar tipList = bannerTip.getElementsByTagName(\"li\");\r\n\r\nvar winW = document.documentElement.clientWidth;\r\nbannerInner.style.width = winW * (count + 2) + \"px\";\r\n\r\n//init data\r\n~function () {\r\n    var str = \"\";\r\n    var str2 = \"\";\r\n    str += \"<div><img src='' trueImg='\" + ary[count - 1] + \"' alt=''/></div>\";\r\n    for (var i = 0; i < count; i++) {\r\n        str += \"<div><img src='' trueImg='\" + ary[i] + \"' alt=''/></div>\";\r\n        str2 += \"<li class=\" + (i == 0 ? \"bg\" : \"\") + \"></li>\";\r\n    }\r\n    str += \"<div><img src='' trueImg='\" + ary[0] + \"' alt=''/></div>\";\r\n    bannerInner.innerHTML = str;\r\n    bannerTip.innerHTML = str2;\r\n}();\r\n\r\n\r\n//size\r\n[].forEach.call(divList, function (item, index, list) {\r\n    item.style.width = winW + \"px\";\r\n});\r\n\r\n//lazy load\r\nwindow.setTimeout(function () {\r\n    [].forEach.call(imgList, function (item, index, list) {\r\n        var oImg = new Image();\r\n        oImg.src = item.getAttribute(\"trueImg\");\r\n        oImg.onload = function () {\r\n            oImg = null;\r\n            item.src = this.src;\r\n            item.className = \"imgMove\";\r\n        }\r\n    });\r\n}, 500);\r\n\r\n\r\n//auto play\r\nvar step = 1;\r\nvar interval = 5000;\r\nvar autoTimer = null;\r\nvar autoDelay = null;\r\nautoTimer = window.setInterval(autoMove, interval);\r\n\r\nfunction changeTip() {\r\n    var temp = step > count ? 1 : step;\r\n    temp = temp < 1 ? count : temp;\r\n    [].forEach.call(tipList, function (item, index, list) {\r\n        item.className = (index + 1) == temp ? \"bg\" : \"\";\r\n    })\r\n}\r\nfunction autoMove() {\r\n    bannerInner.style.webkitTransitionDuration = \"0.3s\";\r\n    step++;\r\n    changeTip();\r\n    bannerInner.style.left = -winW * step + \"px\";\r\n    if (step > count) {\r\n        window.setTimeout(function () {\r\n            bannerInner.style.webkitTransitionDuration = \"0s\";\r\n            bannerInner.style.left = -winW + \"px\";\r\n            step = 1;\r\n        }, 300);\r\n    }\r\n}\r\n\r\n\r\n//touch bind touchmove need preventDefault();\r\n[\"start\", \"move\", \"end\"].forEach(function (item, index) {\r\n    bannerInner.addEventListener(\"touch\" + item, eval(item), false);\r\n});\r\n\r\nfunction start(e) {\r\n    var touchPoint = e.touches[0];\r\n    this.strX = touchPoint.clientX;\r\n    this.strY = touchPoint.clientY;\r\n    this.strL = parseFloat(window.getComputedStyle(this, null)[\"left\"]);\r\n    clearInterval(autoTimer);\r\n    clearInterval(autoDelay);\r\n}\r\nfunction move(e) {\r\n    e.preventDefault();\r\n    var touchPoint = e.touches[0];\r\n    this.curX = touchPoint.clientX;\r\n    this.curY = touchPoint.clientY;\r\n    this.isFlag = swipeFlag(this.strX, this.curX, this.strY, this.curY);\r\n    if (this.isFlag) {\r\n        this.swipeDir = swipeDirection(this.strX, this.curX, this.strY, this.curY);\r\n        if (this.swipeDir == \"Left\" || this.swipeDir == \"Right\") {\r\n            this.changeX = this.curX - this.strX;\r\n            this.curL = this.changeX + this.strL;\r\n            this.style.webkitTransitionDuration = \"0s\";\r\n\r\n            //边界判断\r\n            if (this.curL > 0) {\r\n                this.style.left = \"0\";\r\n            } else if (this.curL < -(count + 1) * winW) {\r\n                this.style.left = -(count + 1) * winW + \"px\";\r\n            }\r\n            else {\r\n                this.style.left = this.curL + \"px\";\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\nfunction end(e) {\r\n    var _this = this;\r\n    if (!this.isFlag) {\r\n        return;\r\n    }\r\n    if (this.swipeDir == \"Left\") {\r\n        if (Math.abs(this.changeX) >= winW / 4) {\r\n            step++;\r\n        }\r\n\r\n    }\r\n    else if (this.swipeDir == \"Right\") {\r\n        if (Math.abs(this.changeX) >= winW / 4) {\r\n            step--;\r\n\r\n        }\r\n    }\r\n    console.log(step);\r\n    this.style.webkitTransitionDuration = \"0.3s\";\r\n    this.style.left = -step * winW + \"px\";\r\n    changeTip();\r\n\r\n    if (step < 1) {\r\n        window.setTimeout(function () {\r\n            step = count;\r\n            _this.style.webkitTransitionDuration = \"0s\";\r\n            _this.style.left = -step * winW + \"px\";\r\n        }, 300);\r\n    }\r\n    else if (step > count) {\r\n        window.setTimeout(function () {\r\n            step = 1;\r\n            _this.style.webkitTransitionDuration = \"0s\";\r\n            _this.style.left = -step * winW + \"px\";\r\n        }, 300);\r\n    }\r\n\r\n\r\n    autoDelay = window.setTimeout(function () {\r\n        autoTimer = window.setInterval(autoMove, interval);\r\n    }, interval);\r\n}\r\n\r\n\r\nfunction swipeFlag(x1, x2, y1, y2) {\r\n    return Math.abs(x2 - x1) > 30 || Math.abs(y2 - y1) > 30;\r\n}\r\nfunction swipeDirection(x1, x2, y1, y2) {\r\n    var changeX = x2 - x1;\r\n    var changeY = y2 - y1;\r\n    return Math.abs(changeX) > Math.abs(changeY) ? (changeX < 0 ? \"Left\" : \"Right\") : (changeY < 0 ? \"Up\" : \"Down\");\r\n}"]}