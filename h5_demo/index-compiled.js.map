{"version":3,"sources":["index.js"],"names":[],"mappings":";;AAAA,IAAI,OAAO;AACP,cAAU,kBAAU,GAAV,EAAe;AACrB,YAAI,QAAQ,IAAZ;AACA,aAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,IAAI,MAAxB,EAAgC,GAAhC,EAAqC;AACjC,gBAAI,OAAO,IAAI,KAAJ,EAAX;AACA,iBAAK,GAAL,GAAW,SAAS,IAAI,CAAJ,CAApB;AACA,iBAAK,MAAL,GAAc,YAAY;AACtB;AACA,oBAAI,KAAK,IAAI,MAAb,EAAqB;AACjB,4BAAQ,KAAR,CAAc,OAAd,GAAwB,GAAxB;AACA,0BAAM,IAAN;AACA,2BAAO,KAAP,GAAe,WAAW,YAAY;AAClC,6BAAK,WAAL,CAAiB,OAAjB;AACH,qBAFc,EAEZ,IAFY,CAAf;AAGH;AACJ,aATD;AAUH;AACJ,KAjBM;AAkBP;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,MAAM,YAAY;AACd,YAAI,QAAQ,IAAZ;AACA,iBAAS,OAAT,GAAmB,UAAU,CAAV,EAAa;AAC5B,gBAAI,EAAE,MAAF,CAAS,OAAT,IAAoB,KAAxB,EAA+B;AAC3B,qBAAK,KAAL,CAAW,OAAX,GAAqB,GAArB;AACA,qBAAK,KAAL,CAAW,SAAX,GAAuB,gBAAvB;AACA,oBAAI,OAAO,KAAK,sBAAL,CAA4B,MAA5B,EAAoC,CAApC,CAAX;AACA,qBAAK,SAAL,GAAiB,QAAjB;AACA,uBAAO,KAAP,GAAe,WAAW,YAAY;AAClC,yBAAK,SAAL,GAAiB,MAAjB;AACH,iBAFc,EAEZ,IAFY,CAAf;AAGA,uBAAO,KAAP,GAAe,WAAW,YAAY;AAClC,yBAAK,WAAL,CAAiB,QAAjB;AACA,0BAAM,aAAN;AACH,iBAHc,EAGZ,IAHY,CAAf;AAIH;AACJ,SAdD;AAeH,KAjBD,CAlBO;AAoCP,mBAAe,yBAAY;AACvB,YAAI,QAAQ,SAAS,aAAT,CAAuB,QAAvB,CAAZ;AACA,YAAI,QAAQ,SAAS,aAAT,CAAuB,QAAvB,CAAZ;AACA,cAAM,IAAN;AACA,cAAM,KAAN,CAAY,OAAZ,GAAsB,OAAtB;AACA,cAAM,SAAN,GAAkB,WAAlB;AACA,cAAM,gBAAN,CAAuB,UAAvB,EAAmC,YAAY;AAC3C,gBAAI,MAAM,MAAV,EAAkB;AACd,sBAAM,IAAN;AACA,sBAAM,SAAN,GAAkB,WAAlB;AACA;AACH;AACD,kBAAM,KAAN;AACA,kBAAM,SAAN,GAAkB,EAAlB;AACH,SARD,EAQG,KARH;;AAUA,YAAI,UAAU,SAAS,gBAAT,CAA0B,kBAA1B,CAAd;AACA,gBAAQ,CAAR,EAAW,EAAX,GAAgB,WAAhB;AACA,WAAG,OAAH,CAAW,IAAX,CAAgB,OAAhB,EAAyB,UAAU,IAAV,EAAgB,KAAhB,EAAuB,IAAvB,EAA6B;AAClD,iBAAK,KAAL,GAAa,KAAb;;AAEA,iBAAK,gBAAL,CAAsB,YAAtB,EAAoC,KAApC,EAA2C,KAA3C;AACA,iBAAK,gBAAL,CAAsB,WAAtB,EAAmC,IAAnC,EAAyC,KAAzC;AACA,iBAAK,gBAAL,CAAsB,UAAtB,EAAkC,GAAlC,EAAuC,KAAvC;AACH,SAND;;AAQA,iBAAS,KAAT,CAAe,CAAf,EAAkB;AACd,iBAAK,MAAL,GAAc,EAAE,cAAF,CAAiB,CAAjB,EAAoB,KAAlC;AACA,iBAAK,MAAL,GAAc,EAAE,cAAF,CAAiB,CAAjB,EAAoB,KAAlC;AACH;;AAED,iBAAS,IAAT,CAAc,CAAd,EAAiB;AACb,iBAAK,IAAL,GAAY,IAAZ;AACA,cAAE,cAAF;AACA,iBAAK,KAAL,GAAa,EAAE,cAAF,CAAiB,CAAjB,EAAoB,KAAjC;AACA,iBAAK,KAAL,GAAa,EAAE,cAAF,CAAiB,CAAjB,EAAoB,KAAjC;AACA,gBAAI,UAAU,KAAK,KAAL,GAAa,KAAK,MAAhC;;AAEA,gBAAI,KAAK,GAAL,CAAS,OAAT,IAAoB,KAAK,GAAL,CAAS,KAAK,KAAL,GAAa,KAAK,MAA3B,CAAxB,EAA4D;AACxD,qBAAK,IAAL,GAAY,KAAZ;AACA;AACH;;AAED,gBAAI,QAAQ,KAAK,KAAjB;AACA,gBAAI,YAAY,QAAQ,MAAR,GAAiB,CAAjC;;AAEA,eAAG,OAAH,CAAW,IAAX,CAAgB,OAAhB,EAAyB,UAAU,IAAV,EAAgB,GAAhB,EAAqB,IAArB,EAA2B;AAChD,oBAAI,SAAS,GAAb,EAAkB;AACd,yBAAK,KAAL,CAAW,OAAX,GAAqB,MAArB;AACA,yBAAK,EAAL,GAAU,EAAV;AACA,yBAAK,KAAL,CAAW,eAAX,GAA6B,YAA7B;AAEH;AACD,qBAAK,SAAL,GAAiB,EAAjB;AACH,aARD;;AAUA,gBAAI,WAAW,IAAf;AACA,gBAAI,UAAU,CAAd,EAAiB;;AACb,qBAAK,SAAL,GAAkB,SAAS,CAAV,GAAe,SAAf,GAA2B,QAAQ,CAApD;AACA,2BAAW,CAAC,KAAK,YAAN,GAAqB,CAArB,GAAyB,OAAzB,GAAmC,IAA9C;AACH,aAHD,MAIK;AACD,qBAAK,SAAL,GAAkB,SAAS,SAAV,GAAuB,CAAvB,GAA2B,QAAQ,CAApD;AACA,2BAAW,KAAK,YAAL,GAAoB,CAApB,GAAwB,OAAxB,GAAkC,IAA7C;AACH;;AAED,oBAAQ,GAAR,CAAY,QAAZ;AACA,oBAAQ,KAAK,SAAb,EAAwB,KAAxB,CAA8B,eAA9B,GAAgD,iBAAiB,QAAjB,GAA4B,GAA5E;AACA,oBAAQ,KAAK,SAAb,EAAwB,SAAxB,GAAoC,QAApC;AACA,oBAAQ,KAAK,SAAb,EAAwB,KAAxB,CAA8B,OAA9B,GAAwC,OAAxC;AACA,iBAAK,KAAL,CAAW,eAAX,GAA6B,YAAY,IAAI,KAAK,GAAL,CAAS,UAAU,KAAK,YAAxB,IAAwC,CAAxD,IAA6D,gBAA7D,GAAgF,OAAhF,GAA0F,KAAvH;AACH;;AAED,iBAAS,GAAT,CAAa,CAAb,EAAgB;AACZ,gBAAI,KAAK,IAAT,EAAe;AACX,wBAAQ,KAAK,SAAb,EAAwB,KAAxB,CAA8B,eAA9B,GAAgD,iBAAhD;AACA,wBAAQ,KAAK,SAAb,EAAwB,KAAxB,CAA8B,gBAA9B,GAAiD,KAAjD;AACA,wBAAQ,KAAK,SAAb,EAAwB,EAAxB,GAA6B,aAAa,KAAK,SAA/C;AACH;AACD,iBAAK,IAAL,GAAY,KAAZ;AACH;AACJ;AArHM,CAAX;;AAwHA,IAAI,IAAI,CAAR;AACA,IAAI,MAAM,CAAC,YAAD,EAAe,gBAAf,EAAiC,iBAAjC,EAAoD,kBAApD,EAAwE,cAAxE,EAAwF,aAAxF,EAAuG,QAAvG,EAAiH,WAAjH,EAA8H,UAA9H,EAA0I,eAA1I,EAA2J,cAA3J,CAAV;AACA,KAAK,QAAL,CAAc,GAAd","file":"index-compiled.js","sourcesContent":["var tool = {\n    load_img: function (ary) {\n        var _this = this;\n        for (var i = 0; i < ary.length; i++) {\n            var oImg = new Image();\n            oImg.src = \"img/\" + ary[i];\n            oImg.onload = function () {\n                n++;\n                if (n == ary.length) {\n                    loading.style.opacity = \"0\";\n                    _this.scan();\n                    window.timer = setTimeout(function () {\n                        main.removeChild(loading);\n                    }, 2000);\n                }\n            }\n        }\n    },\n    scan: function () {\n        var _this = this;\n        scanning.onclick = function (e) {\n            if (e.target.tagName == \"IMG\") {\n                scan.style.opacity = \"1\";\n                scan.style.transform = \"translate(0,0)\";\n                var text = this.getElementsByClassName(\"text\")[0];\n                text.innerHTML = \"扫描中...\";\n                window.timer = setTimeout(function () {\n                    text.innerHTML = \"扫描完成\";\n                }, 1000);\n                window.timer = setTimeout(function () {\n                    main.removeChild(scanning);\n                    _this.touch_animate();\n                }, 1500);\n            }\n        }\n    },\n    touch_animate: function () {\n        var audio = document.querySelector(\"#audio\");\n        var music = document.querySelector(\"#music\");\n        audio.play();\n        music.style.display = \"block\";\n        music.className = \"musicMove\";\n        music.addEventListener(\"touchend\", function () {\n            if (audio.paused) {\n                audio.play();\n                music.className = \"musicMove\";\n                return;\n            }\n            audio.pause();\n            music.className = \"\";\n        }, false);\n\n        var section = document.querySelectorAll(\"#me_info section\");\n        section[0].id = \"animate_0\";\n        [].forEach.call(section, function (item, index, list) {\n            item.index = index;\n            //item.id = \"animate_\" + item.index;\n            item.addEventListener(\"touchstart\", start, false);\n            item.addEventListener(\"touchmove\", move, false);\n            item.addEventListener(\"touchend\", end, false);\n        });\n\n        function start(e) {\n            this.startY = e.changedTouches[0].pageY;\n            this.startX = e.changedTouches[0].pageX;\n        }\n\n        function move(e) {\n            this.flag = true;\n            e.preventDefault();\n            this.moveY = e.changedTouches[0].pageY;\n            this.moveX = e.changedTouches[0].pageX;\n            var movePos = this.moveY - this.startY;\n\n            if (Math.abs(movePos) < Math.abs(this.moveX - this.startX)) {\n                this.flag = false;\n                return;\n            }\n\n            var index = this.index;\n            var lastIndex = section.length - 1;\n\n            [].forEach.call(section, function (item, ind, list) {\n                if (index != ind) {\n                    item.style.display = \"none\";\n                    item.id = \"\";\n                    item.style.webkitTransform = \"scale(0,0)\";\n\n                }\n                item.className = \"\";\n            });\n\n            var duration = null;\n            if (movePos > 0) { //展示 上一张\n                this.prevIndex = (index == 0) ? lastIndex : index - 1;\n                duration = -this.offsetHeight / 2 + movePos + \"px\";\n            }\n            else {\n                this.prevIndex = (index == lastIndex) ? 0 : index + 1;\n                duration = this.offsetHeight / 2 + movePos + \"px\";\n            }\n\n            console.log(duration);\n            section[this.prevIndex].style.webkitTransform = \"translate(0,\" + duration + \")\";\n            section[this.prevIndex].className = \"zIndex\";\n            section[this.prevIndex].style.display = \"block\";\n            this.style.webkitTransform = \"scale(\" + (1 - Math.abs(movePos / this.offsetHeight) / 2) + \") translate(0,\" + movePos + \"px)\";\n        }\n\n        function end(e) {\n            if (this.flag) {\n                section[this.prevIndex].style.webkitTransform = \"translate(0, 0)\";\n                section[this.prevIndex].style.webkitTransition = \".5s\";\n                section[this.prevIndex].id = \"animate_\" + this.prevIndex;\n            }\n            this.flag = false;\n        }\n    }\n};\n\nvar n = 0;\nvar ary = [\"circle.png\", \"experience.png\", \"finger_line.png\", \"finger_print.png\", \"first_bg.jpg\", \"head_bg.jpg\", \"me.jpg\", \"music.svg\", \"next.png\", \"second_bg.png\", \"third_bg.jpg\"];\ntool.load_img(ary);\n"]}